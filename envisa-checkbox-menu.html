<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-ajax/iron-ajax.html">

<link rel="import" href="../paper-menu/paper-menu.html">

<!--
An element to start from.

Example:

    <envisa-checkbox-menu></envisa-checkbox-menu>

@demo
-->
<dom-module id="envisa-checkbox-menu">

  <style>
    :host {

    }
  </style>

  <link rel="import" type="css" href="css/envisa-checkbox-menu.css">
  <link rel="import" type="css" href="../paper-menu/paper-menu-shared.css">

  <template>
    <paper-menu selected-values="{{selectedValues}}" selected-items="{{selectedItems}}" multi$="{{multi}}">
      <content></content>
    </paper-menu>
  </template>

</dom-module>

<style is="custom-style">
  paper-button[raised] {
    background: var(--google-blue-500);
    color: #fff;
  }
</style>

<script>
  Polymer({
    is: 'envisa-checkbox-menu',
    listeners: {
      "iron-select": "onSelect",
      "iron-deselect": "onDeselect"
    },
    properties: {
      /**
       * Gets or sets the selected elements. This is used instead of `selected` when `multi`
       * is true.
       */
      selectedValues: {
        type: Array,
        notify: true
      },

      /**
       * Returns an array of currently selected items.
       */
      selectedItems: {
        type: Array,
        notify: true
      },

      multi: {
        type: Boolean,
        value: false,
        notify: true
      },
    },
    onSelect: function(event){
      event.detail.item.selected = true;
    },
    onDeselect: function(event){
      event.detail.item.selected = false;
    }
  });
</script>
